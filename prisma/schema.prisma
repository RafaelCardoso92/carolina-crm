generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id            String    @id @default(cuid())
  name          String?
  email         String    @unique
  password      String
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

model Cliente {
  // New relations
  comunicacoes  Comunicacao[]
  segmento      ClienteSegmento?
  amostras      Amostra[]
  orcamentos    Orcamento[]
  ultimoContacto DateTime?  // Last contact date for follow-up tracking

  id        String    @id @default(cuid())
  nome      String
  codigo    String?   @unique
  telefone  String?
  email     String?
  morada    String?
  cidade        String?
  codigoPostal  String?
  latitude      Float?
  longitude     Float?
  notas     String?
  ativo     Boolean   @default(true)
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  vendas    Venda[]
  cobrancas Cobranca[]
  itensReconciliacao ItemReconciliacao[]
  insights    ClienteInsight[]
  tarefas     Tarefa[]
}

model Venda {
  id          String   @id @default(cuid())
  clienteId   String
  cliente     Cliente  @relation(fields: [clienteId], references: [id], onDelete: Cascade)

  valor1      Decimal? @db.Decimal(10, 2)
  valor2      Decimal? @db.Decimal(10, 2)
  total       Decimal  @db.Decimal(10, 2)

  mes         Int      // 1-12
  ano         Int

  notas       String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  itens       ItemVenda[]
  devolucoes  Devolucao[]
  itensReconciliacao ItemReconciliacao[]

  @@index([clienteId])
  @@index([mes, ano])
}

model Cobranca {
  id          String    @id @default(cuid())
  clienteId   String
  cliente     Cliente   @relation(fields: [clienteId], references: [id], onDelete: Cascade)

  fatura      String?   // FA number
  valor       Decimal   @db.Decimal(10, 2)
  valorSemIva Decimal?  @db.Decimal(10, 2)
  comissao    Decimal?  @db.Decimal(10, 2)

  dataEmissao DateTime?
  dataPago    DateTime?
  pago        Boolean   @default(false)

  // Installment fields
  numeroParcelas       Int       @default(1)  // Total installments (1 = single payment)
  dataInicioVencimento DateTime? // First installment due date

  notas       String?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  parcelas    Parcela[]

  @@index([clienteId])
  @@index([pago])
}

model Parcela {
  id             String    @id @default(cuid())
  cobrancaId     String
  cobranca       Cobranca  @relation(fields: [cobrancaId], references: [id], onDelete: Cascade)

  numero         Int       // Installment number (1, 2, 3, ...)
  valor          Decimal   @db.Decimal(10, 2)
  dataVencimento DateTime  // Due date
  dataPago       DateTime? // Payment date (null if unpaid)
  pago           Boolean   @default(false)
  notas          String?

  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt

  @@unique([cobrancaId, numero])
  @@index([cobrancaId])
  @@index([dataVencimento])
  @@index([pago])
}

model ObjetivoMensal {
  id        String   @id @default(cuid())
  mes       Int      // 1-12
  ano       Int
  objetivo  Decimal  @db.Decimal(10, 2)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([mes, ano])
}

model ObjetivoTrimestral {
  id        String   @id @default(cuid())
  trimestre Int      // 1-4
  ano       Int
  objetivo  Decimal  @db.Decimal(10, 2)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([trimestre, ano])
}

model ObjetivoAnual {
  id        String   @id @default(cuid())
  ano       Int      @unique
  objetivo  Decimal  @db.Decimal(10, 2)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Configuracao {
  id              String   @id @default(cuid())
  chave           String   @unique
  valor           String
  descricao       String?

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model PremioMensal {
  id              String   @id @default(cuid())
  minimo          Decimal  @db.Decimal(10, 2)  // Minimum sales to get this prize
  premio          Decimal  @db.Decimal(10, 2)  // Prize amount
  ordem           Int      @default(0)

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([minimo])
}

model PremioTrimestral {
  id              String   @id @default(cuid())
  minimo          Decimal  @db.Decimal(10, 2)  // Minimum sales to get this prize
  premio          Decimal  @db.Decimal(10, 2)  // Prize amount
  ordem           Int      @default(0)

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([minimo])
}

model PremioAnual {
  id              String   @id @default(cuid())
  minimo          Decimal  @db.Decimal(10, 2)  // Minimum sales to get this prize
  premio          Decimal  @db.Decimal(10, 2)  // Prize amount
  ordem           Int      @default(0)

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([minimo])
}

model Produto {
  // New relations
  amostras        Amostra[]
  itensOrcamento  ItemOrcamento[]

  id          String   @id @default(cuid())
  nome        String
  codigo      String?  @unique
  categoria   String?
  descricao   String?
  tipo        String?  // Venda PÃºblico, Profissional, Material Promocional
  ativo       Boolean  @default(true)
  preco       Decimal? @db.Decimal(10, 2)  // Default price (with VAT)

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  itensVenda      ItemVenda[]
  substituicoes   ItemDevolucao[] @relation("Substituicao")
}

model ItemVenda {
  id          String   @id @default(cuid())
  vendaId     String
  venda       Venda    @relation(fields: [vendaId], references: [id], onDelete: Cascade)
  produtoId   String
  produto     Produto  @relation(fields: [produtoId], references: [id])

  quantidade  Decimal  @db.Decimal(10, 2)  // Allow decimals (e.g., 1.5 kg)
  precoUnit   Decimal  @db.Decimal(10, 2)  // Price per unit (with VAT)
  subtotal    Decimal  @db.Decimal(10, 2)  // quantidade * precoUnit

  createdAt   DateTime @default(now())

  devolucoes  ItemDevolucao[]

  @@index([vendaId])
  @@index([produtoId])
}

// Pipeline states for prospects
enum EstadoPipeline {
  NOVO           // New lead
  CONTACTADO     // Contacted
  REUNIAO        // Meeting scheduled/done
  PROPOSTA       // Proposal sent
  NEGOCIACAO     // In negotiation
  GANHO          // Won - convert to Cliente
  PERDIDO        // Lost
}

// Prospects/Leads model
model Prospecto {
  // New relations
  comunicacoes  Comunicacao[]
  amostras      Amostra[]
  orcamentos    Orcamento[]

  id              String          @id @default(cuid())

  // Business Info
  nomeEmpresa     String          // Business name
  tipoNegocio     String?         // Type of business
  website         String?
  facebook        String?
  instagram       String?

  // Contact Person
  nomeContacto    String?         // Contact person name
  cargoContacto   String?         // Contact person role/title
  telefone        String?
  email           String?

  // Location (for map)
  morada          String?         // Full address
  cidade          String?
  codigoPostal    String?
  latitude        Float?
  longitude       Float?

  // Pipeline
  estado          EstadoPipeline  @default(NOVO)
  dataUltimoContacto DateTime?
  proximaAccao    String?         // Next action to take
  dataProximaAccao DateTime?

  // Notes & metadata
  notas           String?         @db.Text
  fonte           String?         // Lead source (referral, website, etc)
  ativo           Boolean         @default(true)

  tactics         ProspectoTactic[]
  tarefas         Tarefa[]

  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt

  @@index([estado])
  @@index([cidade])
}

// ==========================================
// RETURNS (DEVOLUCOES) MODELS
// ==========================================

enum EstadoDevolucao {
  PENDENTE
  PROCESSADA
  CANCELADA
}

model Devolucao {
  id              String            @id @default(cuid())
  vendaId         String
  venda           Venda             @relation(fields: [vendaId], references: [id], onDelete: Cascade)

  dataRegisto     DateTime          @default(now())
  motivo          String?           @db.Text  // General reason/notes

  // Calculated totals (with VAT)
  totalDevolvido    Decimal         @db.Decimal(10, 2)  // Sum of returned items value
  totalSubstituido  Decimal         @db.Decimal(10, 2) @default(0)  // Value of replacements

  // Status
  estado          EstadoDevolucao   @default(PENDENTE)

  itens           ItemDevolucao[]
  imagens         ImagemDevolucao[]

  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt

  @@index([vendaId])
  @@index([estado])
}

model ItemDevolucao {
  id              String      @id @default(cuid())
  devolucaoId     String
  devolucao       Devolucao   @relation(fields: [devolucaoId], references: [id], onDelete: Cascade)

  // Original item reference
  itemVendaId     String
  itemVenda       ItemVenda   @relation(fields: [itemVendaId], references: [id])

  quantidade      Decimal     @db.Decimal(10, 2)  // Quantity returned
  valorUnitario   Decimal     @db.Decimal(10, 2)  // Unit price at time of return
  subtotal        Decimal     @db.Decimal(10, 2)  // quantidade * valorUnitario
  motivo          String                          // Reason for this item return

  // Optional replacement product
  substituicaoId      String?
  substituicao        Produto?  @relation("Substituicao", fields: [substituicaoId], references: [id])
  qtdSubstituicao     Decimal?  @db.Decimal(10, 2)
  precoSubstituicao   Decimal?  @db.Decimal(10, 2)
  subtotalSubstituicao Decimal? @db.Decimal(10, 2)

  createdAt       DateTime    @default(now())

  @@index([devolucaoId])
  @@index([itemVendaId])
}

model ImagemDevolucao {
  id              String      @id @default(cuid())
  devolucaoId     String
  devolucao       Devolucao   @relation(fields: [devolucaoId], references: [id], onDelete: Cascade)

  caminho         String      // File path on server (relative to uploads dir)
  nomeOriginal    String      // Original filename
  tamanho         Int         // File size in bytes
  tipo            String      // MIME type

  createdAt       DateTime    @default(now())

  @@index([devolucaoId])
}

// ==========================================
// SALES RECONCILIATION (MAPA 104)
// ==========================================

enum EstadoReconciliacao {
  PENDENTE      // Uploaded but not reviewed
  EM_REVISAO    // Being reviewed
  APROVADA      // All matches confirmed
  COM_PROBLEMAS // Has unresolved discrepancies
}

enum TipoDiscrepancia {
  VALOR_DIFERENTE     // Amount doesn't match
  CLIENTE_NAO_EXISTE  // Client in PDF not in system
  VENDA_NAO_EXISTE    // Client exists but no sale recorded
  VENDA_EXTRA         // Sale in system not in PDF
}

model ReconciliacaoMensal {
  id              String              @id @default(cuid())
  mes             Int
  ano             Int

  // PDF file info
  nomeArquivo     String              // Original filename
  caminhoArquivo  String              // Path to stored file

  // Date range from PDF
  dataInicio      DateTime?
  dataFim         DateTime?

  // Extracted totals from PDF
  totalBrutoPdf     Decimal           @db.Decimal(10, 2)
  totalDescontosPdf Decimal           @db.Decimal(10, 2)
  totalLiquidoPdf   Decimal           @db.Decimal(10, 2)

  // System totals for comparison
  totalSistema      Decimal           @db.Decimal(10, 2)

  // Difference
  diferenca         Decimal           @db.Decimal(10, 2) @default(0)

  // Summary
  totalItens        Int               // Number of client lines in PDF
  itensCorretos     Int               @default(0)
  itensComProblema  Int               @default(0)

  estado          EstadoReconciliacao @default(PENDENTE)
  notas           String?             @db.Text

  dataUpload      DateTime            @default(now())
  dataRevisao     DateTime?

  itens           ItemReconciliacao[]

  createdAt       DateTime            @default(now())
  updatedAt       DateTime            @updatedAt

  @@unique([mes, ano])
  @@index([estado])
}

model ItemReconciliacao {
  id                String            @id @default(cuid())
  reconciliacaoId   String
  reconciliacao     ReconciliacaoMensal @relation(fields: [reconciliacaoId], references: [id], onDelete: Cascade)

  // From PDF
  codigoClientePdf  String            // Client code from PDF (e.g., "00036")
  nomeClientePdf    String            // Client name from PDF
  valorBrutoPdf     Decimal           @db.Decimal(10, 2)
  descontoPdf       Decimal           @db.Decimal(10, 2)
  valorLiquidoPdf   Decimal           @db.Decimal(10, 2)

  // Matched from system (if found)
  clienteId         String?
  cliente           Cliente?          @relation(fields: [clienteId], references: [id])
  vendaId           String?
  venda             Venda?            @relation(fields: [vendaId], references: [id])
  valorSistema      Decimal?          @db.Decimal(10, 2)  // Net value from system

  // Comparison result
  corresponde       Boolean           @default(false)
  tipoDiscrepancia  TipoDiscrepancia?
  diferencaValor    Decimal?          @db.Decimal(10, 2)  // PDF value - System value

  // Resolution
  resolvido         Boolean           @default(false)
  notaResolucao     String?

  createdAt         DateTime          @default(now())

  @@index([reconciliacaoId])
  @@index([clienteId])
  @@index([corresponde])
}

// ==========================================
// AI INSIGHTS PERSISTENCE
// ==========================================

model ClienteInsight {
  id              String    @id @default(cuid())
  clienteId       String
  cliente         Cliente   @relation(fields: [clienteId], references: [id], onDelete: Cascade)

  // AI response data (stored as JSON)
  insights        Json      // The full ClienteInsights object
  provider        String    // "gemini" or "openai"

  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt

  @@index([clienteId])
}

model ProspectoTactic {
  id              String    @id @default(cuid())
  prospectoId     String
  prospecto       Prospecto @relation(fields: [prospectoId], references: [id], onDelete: Cascade)

  // AI response data (stored as JSON)
  tactics         Json      // The full ProspectoTactics object
  provider        String    // "gemini" or "openai"

  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt

  @@index([prospectoId])
}

// ==========================================
// TASKS / REMINDERS
// ==========================================

enum PrioridadeTarefa {
  BAIXA
  MEDIA
  ALTA
  URGENTE
}

enum EstadoTarefa {
  PENDENTE
  EM_PROGRESSO
  CONCLUIDA
  CANCELADA
}

model Tarefa {
  id              String            @id @default(cuid())
  titulo          String
  descricao       String?           @db.Text
  
  // Classification
  tipo            String?           // e.g., "Telefonema", "Visita", "Email", "Reuniao"
  prioridade      PrioridadeTarefa  @default(MEDIA)
  estado          EstadoTarefa      @default(PENDENTE)
  
  // Dates
  dataVencimento  DateTime?         // Due date
  dataLembrete    DateTime?         // Reminder date
  dataConclusao   DateTime?         // Completion date
  
  // Relations (optional - can be standalone or linked)
  clienteId       String?
  cliente         Cliente?          @relation(fields: [clienteId], references: [id], onDelete: SetNull)
  prospectoId     String?
  prospecto       Prospecto?        @relation(fields: [prospectoId], references: [id], onDelete: SetNull)
  
  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt
  
  @@index([clienteId])
  @@index([prospectoId])
  @@index([estado])
  @@index([dataVencimento])
  @@index([prioridade])
}

// ==========================================
// COMMUNICATION LOG
// ==========================================

enum TipoComunicacao {
  TELEFONEMA
  EMAIL
  VISITA
  WHATSAPP
  REUNIAO
  OUTRO
}

model Comunicacao {
  id              String            @id @default(cuid())
  
  // Can be linked to either cliente or prospecto
  clienteId       String?
  cliente         Cliente?          @relation(fields: [clienteId], references: [id], onDelete: Cascade)
  prospectoId     String?
  prospecto       Prospecto?        @relation(fields: [prospectoId], references: [id], onDelete: Cascade)
  
  tipo            TipoComunicacao
  assunto         String?
  notas           String?           @db.Text
  dataContacto    DateTime          @default(now())
  duracao         Int?              // Duration in minutes (for calls/meetings)
  
  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt
  
  @@index([clienteId])
  @@index([prospectoId])
  @@index([dataContacto])
}

// ==========================================
// CUSTOMER SEGMENTATION
// ==========================================

enum SegmentoCliente {
  A   // High value
  B   // Medium value
  C   // Low value
}

model ClienteSegmento {
  id              String            @id @default(cuid())
  clienteId       String            @unique
  cliente         Cliente           @relation(fields: [clienteId], references: [id], onDelete: Cascade)
  
  segmento        SegmentoCliente   @default(C)
  tags            String[]          // Array of tags
  potencialMensal Decimal?          @db.Decimal(10, 2)  // Expected monthly potential
  notas           String?           @db.Text
  
  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt
  
  @@index([segmento])
}

// ==========================================
// SAMPLE / GIFT TRACKING
// ==========================================

enum TipoAmostra {
  AMOSTRA       // Sample
  BRINDE        // Gift
  DEMONSTRACAO  // Demo product
}

model Amostra {
  id              String            @id @default(cuid())
  
  // Can be linked to either cliente or prospecto
  clienteId       String?
  cliente         Cliente?          @relation(fields: [clienteId], references: [id], onDelete: Cascade)
  prospectoId     String?
  prospecto       Prospecto?        @relation(fields: [prospectoId], references: [id], onDelete: Cascade)
  
  produtoId       String?
  produto         Produto?          @relation(fields: [produtoId], references: [id])
  
  tipo            TipoAmostra       @default(AMOSTRA)
  descricao       String?
  quantidade      Int               @default(1)
  valorEstimado   Decimal?          @db.Decimal(10, 2)
  dataEntrega     DateTime          @default(now())
  notas           String?           @db.Text
  
  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt
  
  @@index([clienteId])
  @@index([prospectoId])
  @@index([produtoId])
}

// ==========================================
// QUOTATIONS / PROPOSALS
// ==========================================

enum EstadoOrcamento {
  RASCUNHO      // Draft
  ENVIADO       // Sent to prospect
  ACEITE        // Accepted
  REJEITADO     // Rejected
  EXPIRADO      // Expired
}

model Orcamento {
  id              String            @id @default(cuid())
  numero          String            @unique  // Quote number (e.g., ORC-2024-001)
  
  prospectoId     String?
  prospecto       Prospecto?        @relation(fields: [prospectoId], references: [id], onDelete: SetNull)
  clienteId       String?
  cliente         Cliente?          @relation(fields: [clienteId], references: [id], onDelete: SetNull)
  
  // Quote details
  titulo          String?
  introducao      String?           @db.Text
  condicoes       String?           @db.Text
  validadeDias    Int               @default(30)
  dataEmissao     DateTime          @default(now())
  dataValidade    DateTime?
  
  // Totals
  subtotal        Decimal           @db.Decimal(10, 2)
  desconto        Decimal           @db.Decimal(10, 2) @default(0)
  iva             Decimal           @db.Decimal(10, 2)
  total           Decimal           @db.Decimal(10, 2)
  
  estado          EstadoOrcamento   @default(RASCUNHO)
  notas           String?           @db.Text
  
  itens           ItemOrcamento[]
  
  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt
  
  @@index([prospectoId])
  @@index([clienteId])
  @@index([estado])
}

model ItemOrcamento {
  id              String            @id @default(cuid())
  orcamentoId     String
  orcamento       Orcamento         @relation(fields: [orcamentoId], references: [id], onDelete: Cascade)
  
  produtoId       String?
  produto         Produto?          @relation(fields: [produtoId], references: [id])
  
  descricao       String
  quantidade      Decimal           @db.Decimal(10, 2)
  precoUnit       Decimal           @db.Decimal(10, 2)
  desconto        Decimal           @db.Decimal(10, 2) @default(0)
  subtotal        Decimal           @db.Decimal(10, 2)
  
  ordem           Int               @default(0)
  
  createdAt       DateTime          @default(now())
  
  @@index([orcamentoId])
  @@index([produtoId])
}

// ==========================================
// NOTIFICATIONS SYSTEM
// ==========================================

enum TipoNotificacao {
  PAGAMENTO_ATRASADO
  TAREFA_VENCIDA
  TAREFA_HOJE
  LEAD_PARADO
  CLIENTE_SEM_CONTACTO
  FORECAST_ALERT
  HEALTH_ALERT
}

model Notificacao {
  id              String            @id @default(cuid())
  tipo            TipoNotificacao
  titulo          String
  mensagem        String
  lida            Boolean           @default(false)
  
  // Optional relations
  clienteId       String?
  prospectoId     String?
  tarefaId        String?
  parcelaId       String?
  
  createdAt       DateTime          @default(now())
  readAt          DateTime?
  
  @@index([lida])
  @@index([createdAt])
}

// ==========================================
// CUSTOMER HEALTH SCORES
// ==========================================

model ClienteHealth {
  id              String    @id @default(cuid())
  clienteId       String    @unique
  
  // Scores (0-100)
  scoreGeral      Int       @default(50)
  scorePagamento  Int       @default(50)  // Based on payment history
  scoreEngajamento Int      @default(50)  // Based on communication frequency
  scoreCompras    Int       @default(50)  // Based on purchase frequency/recency
  
  // Risk indicators
  risco           String    @default("MEDIO")  // BAIXO, MEDIO, ALTO
  tendencia       String    @default("ESTAVEL") // SUBINDO, ESTAVEL, DESCENDO
  
  ultimaAtualizacao DateTime @default(now())
  
  @@index([scoreGeral])
  @@index([risco])
}

// ==========================================
// SALES FORECAST
// ==========================================

model PrevisaoVendas {
  id              String    @id @default(cuid())
  mes             Int
  ano             Int
  
  // Forecasted values
  previsaoBase    Decimal   @db.Decimal(10, 2)  // Based on historical average
  previsaoPipeline Decimal  @db.Decimal(10, 2)  // Based on pipeline
  previsaoTotal   Decimal   @db.Decimal(10, 2)  // Combined forecast
  
  // Confidence
  confianca       Int       @default(70)  // 0-100%
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@unique([mes, ano])
}

// ==========================================
// SAVED ROUTES
// ==========================================

model RotaSalva {
  id              String    @id @default(cuid())
  nome            String?   // Optional name for the route
  data            DateTime  // Date the route is planned for
  
  // Starting point
  origemLatitude  Float
  origemLongitude Float
  origemEndereco  String?
  
  // Route data (JSON array of location IDs and order)
  locais          Json      // Array of { id, tipo, ordem }
  
  // Parking stops (JSON array)
  paragens        Json?     // Array of { lat, lng, nome, endereco, custoEstimado }
  
  // Calculated route info
  distanciaTotal  String?   // e.g., "45.2 km"
  duracaoTotal    String?   // e.g., "1h 30min"
  
  // Cost estimates
  custoPortagens      Decimal?  @db.Decimal(10, 2)  // Toll costs
  numPortagens        Int?      // Number of tolls
  custoCombuistivel   Decimal?  @db.Decimal(10, 2)  // Fuel costs
  consumoMedio        Decimal?  @db.Decimal(4, 1)   // L/100km (default ~7.0 for GPL)
  precoLitro          Decimal?  @db.Decimal(4, 3)   // Price per liter
  custoEstacionamento Decimal?  @db.Decimal(10, 2)  // Parking costs
  custoTotal          Decimal?  @db.Decimal(10, 2)  // Total estimated cost
  
  // Actual costs (after completing route)
  custoReal           Decimal?  @db.Decimal(10, 2)  // Actual total cost
  notasCustos         String?   // Notes about costs
  
  // Status
  concluida       Boolean   @default(false)
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@index([data])
  @@index([concluida])
}
